<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khadija Moutahamil | Portfolio Interactif</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Noto+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg: #050505; --text: #ffffff; --accent: #ff3e00; --glass: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1); --font-main: 'Space Grotesk', sans-serif;
        }
        [data-theme="light"] {
            --bg: #f0f0f0; --text: #050505; --accent: #0066ff; --glass: rgba(0, 0, 0, 0.02);
            --border: rgba(0, 0, 0, 0.1);
        }

        body, html { margin: 0; padding: 0; overflow: hidden; background: var(--bg); color: var(--text); font-family: var(--font-main); transition: background 0.5s ease; }

        #canvas-container { position: fixed; top: 0; left: 0; z-index: 1; outline: none; }
        #app { position: relative; z-index: 10; height: 100vh; display: flex; flex-direction: column; pointer-events: none; }

        nav { pointer-events: auto; padding: 30px; display: flex; justify-content: space-between; align-items: flex-start; }
        .controls { display: flex; gap: 10px; }
        
        button { 
            background: var(--glass); border: 1px solid var(--border); color: var(--text); 
            padding: 8px 15px; cursor: pointer; backdrop-filter: blur(10px); 
            font-family: var(--font-main); transition: 0.3s; text-transform: uppercase; font-size: 12px;
        }
        button:hover { background: var(--accent); color: white; border-color: var(--accent); }
        button.active { background: var(--accent); color: white; }

        main { flex: 1; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .card { 
            pointer-events: auto; background: var(--glass); backdrop-filter: blur(30px);
            border: 1px solid var(--border); padding: 40px; width: 100%; max-width: 600px;
            position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            transition: transform 0.1s ease;
        }
        .ar { direction: rtl; font-family: 'Noto Sans Arabic', sans-serif; text-align: right; }
        
        h1 { margin: 0; font-size: clamp(2rem, 5vw, 3rem); line-height: 1; letter-spacing: -2px; }
        .role { color: var(--accent); font-weight: 300; margin-top: 10px; display: block; font-size: 1.1rem; }
        .bio { margin: 25px 0; line-height: 1.6; font-size: 1rem; opacity: 0.8; }
        
        .section-box { margin-top: 30px; border-top: 1px solid var(--border); padding-top: 15px; }
        .section-title { font-size: 0.75rem; text-transform: uppercase; opacity: 0.5; letter-spacing: 2px; }
        .section-content { margin-top: 8px; font-weight: 500; font-size: 0.95rem; }

        .progress-bar { position: fixed; bottom: 0; left: 0; height: 4px; background: var(--accent); transition: width 0.3s ease; }
    </style>
</head>
<body>

<div id="canvas-container"></div>
<div class="progress-bar" id="progress"></div>

<div id="app">
    <nav>
        <div class="controls">
            <button onclick="setLang('fr')" id="btn-fr" class="active">FR</button>
            <button onclick="setLang('en')" id="btn-en">EN</button>
            <button onclick="setLang('ar')" id="btn-ar">AR</button>
        </div>
        <button onclick="toggleTheme()" style="border-radius: 50px;">◑</button>
    </nav>

    <main>
        <div class="card" id="card">
            <img src="profile.jpg" alt="Khadija" style="width:100px; height:100px; border-radius:50%; border: 2px solid var(--accent); margin-bottom: 20px; object-fit: cover;">
            
            <h1 id="name">MOUTAHAMIL KHADIJA</h1>
            <span class="role" id="role"></span>
            
            <p class="bio" id="bio"></p>

            <div class="section-box">
                <div class="section-title" id="title-exp">Expérience</div>
                <div class="section-content" id="content-exp"></div>
            </div>

            <div class="section-box">
                <div class="section-title" id="title-edu">Formation</div>
                <div class="section-content" id="content-edu"></div>
            </div>

            <div class="section-box" style="display: flex; gap: 20px;">
                <div style="flex: 1;">
                    <div class="section-title" id="title-lang">Langues</div>
                    <div class="section-content" id="content-lang"></div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
/**
 * DATA SOURCE (JSON ARRAY)
 * Corrigé avec Baccalauréat en Sciences Économiques
 */
const portfolioData = {
    fr: {
        role: "Marketing Digital | Stratégie Commerciale",
        bio: "Future diplômée passionnée, je combine une approche analytique rigoureuse avec une sensibilité artistique affirmée. [cite: 7, 8]",
        titles: { exp: "Expérience Clé", edu: "Parcours Académique", lang: "Langues" },
        exp: "Immersion Marketing chez ORLIVRAISON : Prospection et création visuelle (2025). [cite: 18, 22, 23]",
        edu: "DUT Marketing Digital (EST Salé) & Baccalauréat en Sciences Économiques (2024). [cite: 11, 13, 15]",
        lang: "Arabe (Maternel), Anglais (Avancé), Français (Intermédiaire). [cite: 26, 27, 28]"
    },
    en: {
        role: "Digital Marketing | Business Strategy",
        bio: "Future graduate blending analytical logic with creative visual sensitivity. [cite: 7, 8]",
        titles: { exp: "Key Experience", edu: "Education", lang: "Languages" },
        exp: "Marketing Immersion at ORLIVRAISON: Growth strategies and visual design (2025). [cite: 18, 22, 23]",
        edu: "Digital Marketing Degree (EST Salé) & Bachelor in Economics (2024). [cite: 11, 13, 15]",
        lang: "Arabic (Native), English (Advanced), French (Intermediate). [cite: 26, 27, 28]"
    },
    ar: {
        role: "التسويق الرقمي | الاستراتيجية التجارية [cite: 3]",
        bio: "خريجة مستقبلاً، أجمع بين النهج التحليلي الدقيق والحس الفني الراقي لتصميم تجارب علامة تجارية هادفة. [cite: 7, 8]",
        titles: { exp: "الخبرة المهنية", edu: "المسار الأكاديمي", lang: "اللغات" },
        exp: "تدريب في التسويق لدى ORLIVRAISON: استراتيجيات النمو والتصميم البصري (2025). [cite: 18, 22, 23]",
        edu: "دبلوم في التسويق الرقمي (EST سلا) وبكالوريا في العلوم الاقتصادية (2024). [cite: 11, 13, 15]",
        lang: "العربية (الأم)، الإنجليزية (متقدم)، الفرنسية (متوسط). [cite: 26, 27, 28]"
    }
};

let currentLang = 'fr';

// --- THREE.JS ENGINE ---
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.getElementById('canvas-container').appendChild(renderer.domElement);

const particlesCount = 2000;
const posArray = new Float32Array(particlesCount * 3);
for(let i=0; i < particlesCount * 3; i++) posArray[i] = (Math.random() - 0.5) * 60;
const particlesGeom = new THREE.BufferGeometry();
particlesGeom.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
const particlesMaterial = new THREE.PointsMaterial({ size: 0.05, color: 0xff3e00, transparent: true, opacity: 0.6 });
const particlesMesh = new THREE.Points(particlesGeom, particlesMaterial);
scene.add(particlesMesh);
camera.position.z = 25;

let mouseX = 0, mouseY = 0;
document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX; mouseY = e.clientY;
    const card = document.getElementById('card');
    card.style.transform = `rotateY(${(window.innerWidth/2 - mouseX)/30}deg) rotateX(${(window.innerHeight/2 - mouseY)/30}deg)`;
});

function animate() {
    requestAnimationFrame(animate);
    particlesMesh.rotation.y += 0.001;
    particlesMesh.position.x = (mouseX - window.innerWidth / 2) * 0.002;
    renderer.render(scene, camera);
}
animate();

// --- LOGIC ---
function setLang(lang) {
    currentLang = lang;
    const data = portfolioData[lang];
    document.getElementById('card').className = lang === 'ar' ? 'card ar' : 'card';
    document.getElementById('role').innerText = data.role;
    document.getElementById('bio').innerText = data.bio;
    document.getElementById('title-exp').innerText = data.titles.exp;
    document.getElementById('content-exp').innerText = data.exp;
    document.getElementById('title-edu').innerText = data.titles.edu;
    document.getElementById('content-edu').innerText = data.edu;
    document.getElementById('title-lang').innerText = data.titles.lang;
    document.getElementById('content-lang').innerText = data.lang;

    document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
    document.getElementById(`btn-${lang}`).classList.add('active');
    
    const progress = { fr: '33%', en: '66%', ar: '100%' };
    document.getElementById('progress').style.width = progress[lang];
}

function toggleTheme() {
    const html = document.documentElement;
    const isDark = html.getAttribute('data-theme') === 'dark';
    html.setAttribute('data-theme', isDark ? 'light' : 'dark');
    particlesMaterial.color.setHex(isDark ? 0x0066ff : 0xff3e00);
}

setLang('fr');
window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
