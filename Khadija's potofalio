<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Khadija Moutahamil | Interactive Portfolio</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Noto+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg: #050505; --text: #ffffff; --accent: #ff3e00; --glass: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1); --font-main: 'Space Grotesk', sans-serif;
        }
        [data-theme="light"] {
            --bg: #f0f0f0; --text: #050505; --accent: #0066ff; --glass: rgba(0, 0, 0, 0.02);
            --border: rgba(0, 0, 0, 0.1);
        }

        body, html { margin: 0; padding: 0; overflow: hidden; background: var(--bg); color: var(--text); font-family: var(--font-main); transition: background 0.5s ease; }

        /* Background Canvas */
        #canvas-container { position: fixed; top: 0; left: 0; z-index: 1; outline: none; }

        /* UI Overlay */
        #app { position: relative; z-index: 10; height: 100vh; display: flex; flex-direction: column; pointer-events: none; }

        /* Header & Navigation */
        nav { pointer-events: auto; padding: 30px; display: flex; justify-content: space-between; align-items: flex-start; }
        .controls { display: flex; gap: 10px; flex-wrap: wrap; max-width: 300px; }
        button { 
            background: var(--glass); border: 1px solid var(--border); color: var(--text); 
            padding: 8px 15px; cursor: pointer; backdrop-filter: blur(10px); 
            font-family: var(--font-main); transition: 0.3s; text-transform: uppercase; font-size: 12px;
        }
        button:hover { background: var(--accent); color: white; border-color: var(--accent); transform: translateY(-2px); }
        button.active { background: var(--accent); color: white; }

        /* Main Content Card */
        main { flex: 1; display: flex; align-items: center; justify-content: center; padding: 20px; }
        .card { 
            pointer-events: auto; background: var(--glass); backdrop-filter: blur(30px);
            border: 1px solid var(--border); padding: 40px; width: 100%; max-width: 600px;
            position: relative; overflow: hidden; box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            transition: transform 0.1s ease;
        }
        .ar { direction: rtl; font-family: 'Noto Sans Arabic', sans-serif; text-align: right; }
        
        /* Typography */
        h1 { margin: 0; font-size: clamp(2rem, 5vw, 3.5rem); line-height: 1; letter-spacing: -2px; }
        .role { color: var(--accent); font-weight: 300; margin-top: 10px; display: block; font-size: 1.1rem; }
        .bio { margin: 30px 0; line-height: 1.6; font-size: 1.1rem; opacity: 0.8; }
        
        .section-box { margin-top: 40px; border-top: 1px solid var(--border); padding-top: 20px; }
        .section-title { font-size: 0.8rem; text-transform: uppercase; opacity: 0.5; letter-spacing: 2px; }
        .section-content { margin-top: 10px; font-weight: 500; }

        /* Gamification Elements */
        .progress-bar { position: fixed; bottom: 0; left: 0; height: 4px; background: var(--accent); transition: width 0.3s ease; }
        .status-tag { position: absolute; top: 20px; right: 20px; font-size: 10px; border: 1px solid var(--accent); padding: 2px 8px; color: var(--accent); border-radius: 20px; }

        @media (max-width: 600px) {
            .card { padding: 20px; }
            nav { padding: 15px; flex-direction: column; gap: 20px; }
        }
    </style>
</head>
<body>

<div id="canvas-container"></div>
<div class="progress-bar" id="progress"></div>

<div id="app">
    <nav>
        <div class="controls">
            <button onclick="setLang('fr')" id="btn-fr" class="active">Français</button>
            <button onclick="setLang('en')" id="btn-en">English</button>
            <button onclick="setLang('ar')" id="btn-ar">العربية</button>
        </div>
        <button onclick="toggleTheme()" style="border-radius: 50px;">◑</button>
    </nav>

    <main>
        <div class="card" id="card">
            <div class="status-tag">SYSTEM ONLINE</div>
            <h1 id="name">MOUTAHAMIL KHADIJA</h1>
            <span class="role" id="role"></span>
            
            <p class="bio" id="bio"></p>

            <div class="section-box">
                <div class="section-title" id="title-exp">Experience</div>
                <div class="section-content" id="content-exp"></div>
            </div>

            <div class="section-box">
                <div class="section-title" id="title-edu">Education</div>
                <div class="section-content" id="content-edu"></div>
            </div>

            <div class="section-box" style="display: flex; gap: 20px;">
                <div style="flex: 1;">
                    <div class="section-title" id="title-lang">Languages</div>
                    <div class="section-content" id="content-lang"></div>
                </div>
                <div style="flex: 1;">
                    <div class="section-title" id="title-int">Interests</div>
                    <div class="section-content" id="content-int"></div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
/**
 * DATA ARRAY (Multilingual JSON)
 * Derived from provided CV [cite: 1, 10, 17, 25, 29]
 */
const portfolioData = {
    fr: {
        role: "Marketing Digital | Stratégie Commerciale [cite: 3]",
        bio: "Future diplômée en Marketing Digital, je combine une approche analytique rigoureuse avec une sensibilité artistique affirmée[cite: 7].",
        titles: { exp: "Expériences Professionnelles [cite: 17]", edu: "Parcours Académique [cite: 10]", lang: "Langues [cite: 25]", int: "Intérêts [cite: 29]" },
        exp: "ORLIVRAISON : Immersion en Marketing Digital & Prospection (2025)[cite: 18, 22].",
        edu: "DUT en Marketing Digital - EST Salé (2025-2026)[cite: 11, 13, 14].",
        lang: "Arabe (Maternel), Anglais (Avancé), Français (Intermédiaire)[cite: 26, 27, 28].",
        int: "Photographie, Design, Veille Marketing[cite: 30, 31, 32]."
    },
    en: {
        role: "Digital Marketing | Business Strategy [cite: 3]",
        bio: "Future Digital Marketing graduate, blending rigorous analytical logic with creative visual sensitivity[cite: 7].",
        titles: { exp: "Professional Experience [cite: 17]", edu: "Education [cite: 10]", lang: "Languages [cite: 25]", int: "Interests [cite: 29]" },
        exp: "ORLIVRAISON: Digital Marketing Immersion & Growth Strategies (2025)[cite: 18, 22].",
        edu: "Marketing Degree - EST Salé (2025-2026)[cite: 11, 13, 14].",
        lang: "Arabic (Native), English (Advanced), French (Intermediate)[cite: 26, 27, 28].",
        int: "Photography, Design, Marketing Trends[cite: 30, 31, 32]."
    },
    ar: {
        role: "التسويق الرقمي | الاستراتيجية التجارية [cite: 3]",
        bio: "خريجة مستقبلاً في التسويق الرقمي، أجمع بين النهج التحليلي الدقيق والحس الفني الراقي[cite: 7].",
        titles: { exp: "الخبرة المهنية [cite: 17]", edu: "المسار الأكاديمي [cite: 10]", lang: "اللغات [cite: 25]", int: "الاهتمامات [cite: 29]" },
        exp: "أور ليفريزون: التسويق الرقمي والبحث عن فرص نمو جديدة (2025)[cite: 18, 22].",
        edu: "دبلوم التكنولوجيا - المدرسة العليا للتكنولوجيا بسلا (2025-2026)[cite: 11, 13, 14].",
        lang: "العربية (الأم)، الإنجليزية (متقدم)، الفرنسية (متوسط)[cite: 26, 27, 28].",
        int: "التصوير، التصميم، تتبع اتجاهات السوق[cite: 30, 31, 32]."
    }
};

let currentLang = 'fr';

// --- THREE.JS ENGINE ---
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);
document.getElementById('canvas-container').appendChild(renderer.domElement);

// Create Particle Nebula
const particlesCount = 2500;
const posArray = new Float32Array(particlesCount * 3);
for(let i=0; i < particlesCount * 3; i++) {
    posArray[i] = (Math.random() - 0.5) * 60;
}
const particlesGeom = new THREE.BufferGeometry();
particlesGeom.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
const particlesMaterial = new THREE.PointsMaterial({ 
    size: 0.05, 
    color: 0xff3e00,
    transparent: true,
    opacity: 0.8
});
const particlesMesh = new THREE.Points(particlesGeom, particlesMaterial);
scene.add(particlesMesh);

camera.position.z = 25;

// Mouse Interaction
let mouseX = 0, mouseY = 0;
document.addEventListener('mousemove', (e) => {
    mouseX = e.clientX;
    mouseY = e.clientY;
    
    // UI Gamification: Tilt Card
    const card = document.getElementById('card');
    const x = (window.innerWidth / 2 - mouseX) / 25;
    const y = (window.innerHeight / 2 - mouseY) / 25;
    card.style.transform = `rotateY(${x}deg) rotateX(${y}deg)`;
});

function animate() {
    requestAnimationFrame(animate);
    particlesMesh.rotation.y += 0.001;
    particlesMesh.rotation.x += 0.001;
    
    particlesMesh.position.x = (mouseX - window.innerWidth / 2) * 0.005;
    particlesMesh.position.y = (mouseY - window.innerHeight / 2) * -0.005;
    
    renderer.render(scene, camera);
}
animate();

// --- UI LOGIC ---
function setLang(lang) {
    currentLang = lang;
    const data = portfolioData[lang];
    const card = document.getElementById('card');
    
    // Class toggle for RTL
    card.className = lang === 'ar' ? 'card ar' : 'card';
    
    // Update Text
    document.getElementById('role').innerText = data.role;
    document.getElementById('bio').innerText = data.bio;
    document.getElementById('title-exp').innerText = data.titles.exp;
    document.getElementById('content-exp').innerText = data.exp;
    document.getElementById('title-edu').innerText = data.titles.edu;
    document.getElementById('content-edu').innerText = data.edu;
    document.getElementById('title-lang').innerText = data.titles.lang;
    document.getElementById('content-lang').innerText = data.lang;
    document.getElementById('title-int').innerText = data.titles.int;
    document.getElementById('content-int').innerText = data.int;

    // Active button state
    document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
    document.getElementById(`btn-${lang}`).classList.add('active');
    
    // Gamification progress
    const progress = { fr: '33%', en: '66%', ar: '100%' };
    document.getElementById('progress').style.width = progress[lang];
}

function toggleTheme() {
    const html = document.documentElement;
    const isDark = html.getAttribute('data-theme') === 'dark';
    html.setAttribute('data-theme', isDark ? 'light' : 'dark');
    
    // Update Three.js particles color
    particlesMaterial.color.setHex(isDark ? 0x0066ff : 0xff3e00);
}

// Initial Call
setLang('fr');

// Handle Window Resize
window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
